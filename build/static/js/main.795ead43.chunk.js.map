{"version":3,"sources":["reportWebVitals.js","services/notes.js","services/login.js","PhoneBook.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","baseUrl","token","getAll","axios","get","create","newObject","a","config","headers","Authorization","post","response","data","update","id","put","setToken","newToken","deleteItem","delete","login","credentials","Footer","style","color","fontStyle","fontSize","href","class","Name","content","console","log","name","number","onClick","PhoneBook","useState","names","setNames","newItem","setNewItem","username","setUsername","password","setPassword","user","setUser","useEffect","noteService","handleLogin","event","preventDefault","loginService","setTimeout","handleNameChange","target","value","handleNumberChange","addItem","concat","alert","onSubmit","type","onChange","placeholder","map","index","filter","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.795ead43.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nlet token = null\n\nconst setToken = newToken => {\n    token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request\n}\n\nconst create = async newObject => {\n    const config = {\n        headers: { Authorization: token },\n    }\n    const response = await axios.post(baseUrl, newObject, config)\n    return response.data\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteItem = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, setToken, deleteItem }","import axios from 'axios'\nconst baseUrl = 'http://localhost:3002/api/login'\n\nconst login = async (credentials) => {\n    const response = await axios.post(baseUrl,credentials)\n    return response.data\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {login}","import React, { useEffect, useState } from 'react'\nimport noteService from './services/notes'\nimport loginService from './services/login'\n\nconst Footer = () => {\n    const footerStyle = {\n        color: 'green',\n        fontStyle: 'italic',\n        fontSize: 14\n    }\n    return (\n        <div style={footerStyle}>\n            <br />\n            <em>fullstack Demo by \n                <a href='https://github.com/SikeX/sikex.github.io' \n                    class='text-blue-600 hover:underline'>@Sike</a><br />\n            FrontEnd: React<br />\n            BackEnd: NodeJs<br />\n            DataBase: MongoDB\n        </em>\n        </div>\n    )\n}\n\nconst Name = ({ content, deleteItem }) => {\n    console.log(content);\n    return (\n        <tbody>\n            <tr>\n                <td>{content.name}</td><td>{content.number}</td>\n                <td><button class='hover:bg-yellow-400 bg-yellow-200 \n                rounded-md text-sm px-1 mx-1'\n                    onClick={deleteItem}>delete</button></td>\n            </tr>\n        </tbody>\n    )\n}\n\nconst PhoneBook = () => {\n    const [names, setNames] = useState([])\n    const [newItem, setNewItem] = useState({\n        name: '',\n        number: ''\n    })\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n\n    useEffect(() => {\n        noteService\n            .getAll()\n            .then(response => {\n                console.log('get success!');\n                setNames(response.data)\n            })\n    }, [])\n\n    console.log(\"item get from server:\", names);\n\n    const handleLogin = async (event) => {\n        event.preventDefault()\n\n        try {\n            // console.log('username:',username,'password:',password)\n            const user = await loginService.login({\n                username:username, password:password,\n            })\n\n            console.log(user)\n\n            noteService.setToken(user.token)\n            setUser(user)\n            setUsername('')\n            setPassword('')\n        } catch (exception) {\n            setTimeout(()=>{console.log('wrong credentials')}, 5000)\n        }\n    }\n\n    const loginForm = () => (\n        <div class='max-w-md bg-yellow-500 rounded-xl shadow-md\n            my-1 px-2 py-1'> \n            <h1 class='text-2xl'>Login</h1>\n            <form onSubmit={handleLogin}>\n                <div class='py-1'>\n                    username:\n                    <input class='focus:border-blue-400 focus:ring-1 \n                    border focus:ring-blue-500 focus:outline-none border-gray-200 rounded-md placeholder-gray-400\n                    px-2 ml-1' \n                        type='text'\n                        value={username}\n                        name='Username'\n                        onChange={({ target }) => setUsername(target.value)}\n                    />\n                </div>\n                <div class='py-1'>\n                    password:\n                    <input class='focus:border-blue-400 focus:ring-1 \n                    border focus:ring-blue-500 focus:outline-none border-gray-200 rounded-md placeholder-gray-400\n                    px-2 ml-1' \n                        type='password'\n                        value={password}\n                        name='Password'\n                        onChange={({ target }) => setPassword(target.value)}\n                    />\n                </div>\n                <div>\n                    <button class='bg-indigo-300 hover:bg-indigo-500 rounded-md\n                    px-4 py-1' type=\"submit\">login</button>\n                </div>\n            </form>\n        </div>\n    )\n\n    const phonebookForm = () =>(\n        <div class='max-w-md bg-yellow-200 rounded-xl shadow-md\n            my-1 px-2 py-1'>\n            <h1 class='text-2xl'>Add a new</h1>\n            <form class='relative'>\n                <div class='py-1'>name:\n                    <input class='focus:border-blue-400 focus:ring-1 \n                    border focus:ring-blue-500 focus:outline-none border-gray-200 rounded-md placeholder-gray-400\n                    px-2 ml-1'\n                    placeholder='input name'\n                    value={newItem.name}\n                    onChange={handleNameChange}\n                    />\n                </div>\n            </form>\n            <form class='relative' onSubmit={addItem}>\n                <div class='py-1'>number:\n                    <input class='focus:border-blue-400 focus:ring-1 \n                    border focus:outline-none border-gray-200 rounded-md placeholder-gray-400\n                    px-2 ml-1'\n                        placeholder='input number'\n                        value={newItem.number}\n                        onChange={handleNumberChange}\n                    />\n                </div>\n                <div>\n                    <button class='bg-indigo-300 hover:bg-indigo-500 rounded-md\n                    px-4 py-1' type=\"submit\">add</button>\n                </div>\n            </form>\n            </div>\n    )\n\n    const handleNameChange = (event) => {\n        setNewItem({ ...newItem, name: event.target.value })\n    }\n\n    const handleNumberChange = (event) => {\n        setNewItem({ ...newItem, number: event.target.value })\n    }\n\n    const addItem = (event) => {\n        event.preventDefault()\n        if (newItem.name === '') {\n            alert('please input name')\n            return\n        }\n        if (newItem.number === '') {\n            alert('please input number')\n            return\n        }\n        else {\n            // const newItemObject = {...newItem, id: names.length + 1}\n\n            noteService\n                .create(newItem)\n                .then(response => {\n                    setNames(names.concat(newItem))\n                    setNewItem({ name: '', number: '' })\n                })\n        }\n    }\n\n    const deleteItemOf = (id) => {\n        if(user === null) {\n            alert('you dont have the acess to delete!\\n'+\n            'please log in')\n            return\n        }\n        noteService\n            .deleteItem(id)\n            .then(response => {\n                setNames(names.filter(item => item.id !== id))\n            })\n    }\n\n    console.log('newItem', newItem);\n\n    return (\n        <div class='absolute h-full w-full mx-auto px-1 bg-green-200 md:px-20 lg:px-40'>\n            <div class='bg-gray-500 rounded-md\n            text-3xl text-white subpixel-antialiased px-2 py-1'>\n                PhoneBook\n            </div>\n\n            { user === null \n                ? loginForm()\n                : <div>\n                    <div class='text-blue-600 px-2 py-1'>Hello {user.username} !\n                    </div>\n                    {phonebookForm()}\n                </div>\n            }\n\n            <div class='max-w-md my-2 bg-blue-200 rounded-xl shadow-md\n            px-2 py-1'>\n                <h1 class='text-2xl'>Number</h1>\n                <table class='table-auto'>\n                    {names.map(\n                        (name, index) => <Name content={name}\n                            key={index}\n                            deleteItem={() => deleteItemOf(name.id)} />\n                    )}\n                </table>\n            </div>\n            <Footer />\n        </div>\n    )\n\n}\n\nexport default PhoneBook","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\n// import Test from './Test'\nimport reportWebVitals from './reportWebVitals';\n// import Study from './Study';\nimport PhoneBook from './PhoneBook';\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <App /> */}\n    {/* <Test /> */}\n    {/* <Study /> */}\n    <PhoneBook />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}